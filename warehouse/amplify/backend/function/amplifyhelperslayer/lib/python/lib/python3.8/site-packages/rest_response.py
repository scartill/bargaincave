import json

def make_response(response=None, error=None):
    if error:
        return_code = 503
        body = {
            'result': 'error',
            'error': str(error.message)
        }
    else:
        return_code = 200
        body = {
            'result': 'ok'
        }

        if response:
            body['data'] = response

    body_string = json.dumps(body)

    return {
        'statusCode': return_code,
        'headers': {
            'Access-Control-Allow-Headers': '*',
            'Access-Control-Allow-Origin': '*',
            'Access-Control-Allow-Methods': 'OPTIONS,POST,GET'
        },
        'body': body_string
    }
